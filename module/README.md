template code for public private simulate

